<div class="index">
  <p>
    <a class="myButton" href="/transactions/new">New transaction</a>
  </p>
</div>



<div class= "big-form">
  <form action="/transactions/filter-by-merchant" method="post">
    <label>
    Filter by merchant:
      <select name="merchant_id" required>

        <% for merchant in @merchants %>
        <option value="<%= merchant.id %>"><%= merchant.name.capitalize %></option>
        <% end %>
      </select>
    </label>

    <input type='submit' value="Filter">
  </form>

  <form action="/transactions/filter-by-tag" method="post">
    <label>
    Filter by tag:
      <select name="tag_id" required>

        <% for tag in @tags %>
        <option value="<%= tag.id %>"><%= tag.name.capitalize %></option>
        <% end %>
      </select>
    </label>

    <input type='submit' value="Filter">
  </form>

  <form action="/transactions/month" method="post">
    <label>
    Filter by month:

    <!-- <select name="transaction_date" required> -->

      <input type="date" name="transaction_date" value="">

      <!-- <option value="1">January</option>
      <option value="2">February</option>
      <option value="3">March</option>
      <option value="4">April</option>
      <option value="5">May</option>
      <option value="6">June</option>
      <option value="7">July</option>
      <option value="8">August</option>
      <option value="9">September</option>
      <option value="10">October</option>
      <option value="11">November</option>
      <option value="12">December</option> -->

    <input type='submit' value="Filter">
  </form>
  </div>

<div class="tables">


  <p>All <%= @filter %> transactions </p>
  <p> Total: £<%= @total %></p>

  <table>
    <tr>
      <th>Merchant</th>
      <th>Tag</th>
      <th>Amount</th>
      <th>Date</th>
    </tr>
    <% @transactions.each do |transaction| %>
    <tr class="link" onclick="window.location='/transactions/<%= transaction.id %>'">
      <td><%= transaction.merchant.name.capitalize %></td>
      <td><%= transaction.tag.name.capitalize %></td>
      <td>£<%= transaction.amount %></td>
      <td><%= transaction.transaction_date %></td>
    </tr>

    <% end %>
  </table>

</div>
